{"version":3,"sources":["Components/BookPreview/BookPreview.jsx","Components/BookList/BookList.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Views/AuthorsView/AuthorsView.jsx"],"names":["BookPreview","imgUrl","title","className","src","alt","withRouter","books","location","map","id","to","pathname","state","from","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","AuthorsView","authors","a","Axios","get","response","this","setState","data","style","backgroundColor","author","props","match","url","name","path","render","bookId","Number","params","authorId","find","BookList","Component"],"mappings":"0NAiBeA,EAbK,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAC7B,OACE,sBAAKC,UAAU,OAAf,UACE,qBAAKA,UAAU,QAAf,SACE,qBAAKC,IAAKH,EAAQI,IAAKH,MAEzB,qBAAKC,UAAU,OAAf,SACE,oBAAIA,UAAU,QAAd,SAAuBD,UCkChBI,eArBE,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACzB,OACE,6BACGD,EAAME,KAAI,gBAAGC,EAAH,EAAGA,GAAIT,EAAP,EAAOA,OAAQC,EAAf,EAAeA,MAAf,OACT,6BACE,cAAC,IAAD,CACES,GAAI,CACFC,SAAS,UAAD,OAAYF,GACpBG,MAAO,CACLC,KAAMN,IAJZ,SAQE,cAAC,EAAD,CAAaP,OAAQA,EAAQC,MAAOA,OAT/BQ,Y,gCC5BF,SAASK,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOqB,IAAS,GAAMC,SAAQ,SAAUxB,GAC9C,EAAemB,EAAQnB,EAAKuB,EAAOvB,OAE5BE,OAAOuB,0BAChBvB,OAAOwB,iBAAiBP,EAAQjB,OAAOuB,0BAA0BF,IAEjEhB,EAAQL,OAAOqB,IAASC,SAAQ,SAAUxB,GACxCE,OAAOC,eAAegB,EAAQnB,EAAKE,OAAOa,yBAAyBQ,EAAQvB,OAKjF,OAAOmB,E,4OC6CMQ,E,4MAvEb/B,MAAQ,CACNgC,QAAS,I,8FAGX,4BAAAC,EAAA,sEAEyBC,IAAMC,IAAI,8CAFnC,OAEQC,EAFR,OAMEC,KAAKC,SAAS,CAAEN,QAASI,EAASG,OANpC,gD,0EASA,WAAU,IAAD,OACP,OACE,gCACE,oBAAIC,MAAO,CAAEC,gBAAiB,SAA9B,iCADF,IAEE,6BACGJ,KAAKrC,MAAMgC,QAAQpC,KAAI,SAAA8C,GAAM,OAC5B,6BACE,cAAC,IAAD,CAAS5C,GAAE,UAAK,EAAK6C,MAAMC,MAAMC,IAAtB,YAA6BH,EAAO7C,IAA/C,SACG6C,EAAOI,QAFHJ,EAAO7C,SA6BhBwC,KAAKrC,MAAMgC,QAAQN,OAAQ,GAAK,cAAC,IAAD,CAClCqB,KAAI,UAAKV,KAAKM,MAAMC,MAAMG,KAAtB,cAEJC,OAAQ,SAAAL,GACN,IAAMM,EAASC,OAAOP,EAAMC,MAAMO,OAAOC,UAEnCV,EAAS,EAAK1C,MAAMgC,QAAQqB,MAAK,qBAAExD,KAAeoD,KAQxD,OAAOP,GAAU,cAACY,EAAA,EAAD,2BAAcX,GAAd,IAAqBjD,MAAOgD,EAAOhD,mB,GA/DtC6D","file":"static/js/authors-page.fb1a91c1.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './BookPreview.css';\r\n\r\nconst BookPreview = ({ imgUrl, title }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"thumb\">\r\n        <img src={imgUrl} alt={title} />\r\n      </div>\r\n      <div className=\"body\">\r\n        <h2 className=\"title\">{title}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookPreview;\r\n","// import { Link, withRouter } from 'react-router-dom';\r\n\r\n// import BookPreview from '../BookPreview';\r\n\r\n// const BookList = ({ books, match }) => {\r\n//   return (\r\n//     <ul>\r\n//       {books.map(({ id, imgUrl, title }) => (\r\n//         <li key={id}>\r\n//           <Link to={`${match.url}/${id}`}>\r\n//             <BookPreview imgUrl={imgUrl} title={title}/>\r\n//           </Link>\r\n//         </li>\r\n//       ))}\r\n//     </ul>\r\n//   );\r\n// };\r\n\r\n// export default withRouter(BookList);\r\n\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport BookPreview from '../BookPreview';\r\n\r\nconst BookList = ({ books, location }) => {\r\n  return (\r\n    <ul>\r\n      {books.map(({ id, imgUrl, title }) => (\r\n        <li key={id}>\r\n          <Link\r\n            to={{\r\n              pathname: `/books/${id}`,\r\n              state: {\r\n                from: location,\r\n              },\r\n            }}\r\n          >\r\n            <BookPreview imgUrl={imgUrl} title={title} />\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default withRouter(BookList);\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\nimport { NavLink, Route } from 'react-router-dom';\r\n\r\nimport BookList from '../../Components/BookList';\r\n\r\nclass AuthorsView extends Component {\r\n  state = {\r\n    authors: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // const response = await Axios.get('http://localhost:4040/authors');\r\n    const response = await Axios.get('http://localhost:4040/authors?_embed=books');\r\n\r\n    // console.log(response.data);\r\n\r\n    this.setState({ authors: response.data });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2 style={{ backgroundColor: 'white' }}>This is author page</h2>;\r\n        <ul>\r\n          {this.state.authors.map(author => (\r\n            <li key={author.id}>\r\n              <NavLink to={`${this.props.match.url}/${author.id}`}>\r\n                {author.name}\r\n              </NavLink>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        {/* ПРИ ПЕРВОМ РЭНДЕРЕ МАССИВ ПУСТОЙ ПОЭТОМУ ВЕРНЕТ UNDERFIND AUTHOR.BOOKS */}\r\n        {/* {this.state.authors.length >0 && <Route\r\n          // path={'/authors/:authorId'}\r\n          path={`${this.props.match.path}/:authorId`}\r\n          // component={AuthorBooks}\r\n          \r\n        //   <ul>\r\n        // {this.state.books.map(book => (<li key={book.id}>{book.title}</li>))}\r\n        // </ul>\r\n          render={props => {\r\n            // console.log(props);\r\n            const bookId = Number(props.match.params.authorId);\r\n            // console.log(bookId);\r\n\r\n            // const auther = this.state.authers.find(auther => auther.id === bookId);\r\n            const auther = this.state.authors.find(({id}) => id === bookId);\r\n            console.log(auther.books);\r\n            \r\n            return <AuthorBooks {...props} authors={this.state.authors}/>\r\n          }}\r\n        />} */}\r\n           {this.state.authors.length >0 && <Route\r\n          path={`${this.props.match.path}/:authorId`}\r\n        \r\n          render={props => {\r\n            const bookId = Number(props.match.params.authorId);\r\n\r\n            const author = this.state.authors.find(({id}) => id === bookId);\r\n\r\n            // if(author){\r\n            //   console.log(author.books);\r\n            // }\r\n            \r\n            // return <AuthorBooks {...props} authors={this.state.authors}/>\r\n            // return author ? <AuthorBooks {...props} books={author.books}/> : null;\r\n            return author && <BookList {...props} books={author.books}/>;\r\n\r\n          }}\r\n        />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthorsView;\r\n"],"sourceRoot":""}